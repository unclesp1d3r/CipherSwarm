---
description: 
globs: templates/**/*.html.j2
alwaysApply: false
---
## Rule: Alpine.js Modal Control

Use Alpine.js to control modal open/close behavior instead of raw JS.

- Every modal should wrap its contents in `x-data="{ open: false }"` or equivalent.
- The modal should be toggled open with `@click="open = true"` on the launch button and closed with `@click="open = false"` on the cancel or close buttons.
- Use `x-show="open"` and `x-transition` on the modal container to handle display and animation.
- Do **not** use inline `style="display:none"` or manually add/remove classes with JS.
- Use HTMX fragment swapping for the inner modal body if needed â€” **not** for the outer modal shell.

### Example

```html
<div x-data="{ open: false }">
  <button @click="open = true">Edit</button>

  <div
    x-show="open"
    x-transition
    class="fixed inset-0 z-50 bg-black bg-opacity-50"
  >
    <div class="modal" @click.away="open = false">
      <h2>Edit Agent</h2>
      <button @click="open = false">Close</button>
    </div>
  </div>
</div>
```

