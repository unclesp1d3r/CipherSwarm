# .pre-commit-config.yaml

repos:
    # 🧼 Standard Python code cleanup hooks
    - repo: https://github.com/pre-commit/pre-commit-hooks
      rev: v5.0.0
      hooks:
          - id: check-added-large-files
          - id: check-ast
          - id: check-case-conflict
          - id: check-merge-conflict
          - id: check-illegal-windows-names
          - id: check-json
          - id: check-toml
          - id: check-yaml
            args: [--unsafe]
          - id: check-xml
          - id: mixed-line-ending
            args: [--fix=auto]

    # 🧹 Ruff linting + formatting
    - repo: https://github.com/astral-sh/ruff-pre-commit
      rev: v0.12.0
      hooks:
          - id: ruff-check
            args: [--fix]
          - id: ruff-format

    # 🧪 Mypy for static type checks
    - repo: https://github.com/pre-commit/mirrors-mypy
      rev: v1.16.1
      hooks:
          - id: mypy
            name: mypy
            args:
                [
                    "--install-types",
                    "--non-interactive",
                    "--explicit-package-bases",
                    "--config-file",
                    "pyproject.toml",
                ]
            pass_filenames: false
            additional_dependencies:
                - "pydantic>=2.10"

    # 📦 Deptry for unused/undeclared deps
    # - repo: https://github.com/fpgmaas/deptry
    #   rev: 0.23.0
    #   hooks:
    #       - id: deptry

    # 📝 Commit message linting via commitlint
    - repo: local
      hooks:
          - id: commitlint
            name: commitlint
            entry: npx --no-install commitlint --edit
            language: node
            stages: [commit-msg]

    # 🐍 uv for Python environment management
    - repo: https://github.com/astral-sh/uv-pre-commit
      rev: 0.7.14
      hooks:
          - id: uv-lock

    # 📝 Markdown formatting
    - repo: https://github.com/hukkin/mdformat
      rev: 0.7.22
      hooks:
          - id: mdformat
            additional_dependencies:
                - mdformat-gfm
                - mdformat-admon
                - mdformat-config
                - mdformat-footnote
                - mdformat-frontmatter
                - mdformat-simple-breaks
                - mdformat-tables
                - mdformat-web
                - mdformat-wikilink
                - mdformat-ruff
                - mdformat-gfm-alerts
                - mdformat-rustfmt
                - mdformat-toc

    # - repo: https://github.com/DavidAnson/markdownlint-cli2
    #   rev: v0.18.1
    #   hooks:
    #       - id: markdownlint-cli2
    #         args: ["-c", ".markdownlint-cli2.jsonc"]
